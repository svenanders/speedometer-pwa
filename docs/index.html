<!DOCTYPE html><html lang="en"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Speedometer</title><meta name="description"content="Simple speedometer progressive web app based on Geolocation API."><meta name="theme-color"content="#f1f1f1"><link rel="icon"href="images/speedometer.png"><link rel="manifest"href="manifest.json"><style>body{background:radial-gradient(ellipse at center,#fff 0,#d3d3d3 100%);overflow:hidden}body{display:flex;justify-content:center;align-items:center;height:100vh;flex-direction:column}body>div{width:100%;text-align:center}#readout{font-size:12rem;font-family:sans-serif;line-height:12rem}button{padding:1rem 2rem;border-radius:10px;background-color:#fff;border:1px solid #ccc;font-size:1.5rem;text-transform:uppercase}button:focus{outline:0}#show-mph{border-radius:10px 0 0 10px;margin-right:-6px}#show-kmh{border-radius:0 10px 10px 0}.selected{background-color:#ff69b4;color:#fff}#start{margin-top:1rem;background-color:#dafed7}#start.selected{background-color:#fed7d7;color:#000}body.dark{background:radial-gradient(ellipse at center,#1b1b1b 0,#000 100%);color:#01a003}body.dark button{background-color:#2a2a2a;border:1px solid #01a003;color:#01a003}body.dark .selected{background-color:#01a003;color:#fff}body.dark #start{margin-top:1rem;background-color:#095b00}body.dark #start.selected{background-color:#5b0000;color:#fff;border-color:#5b1600}</style><div id="readout">...</div><div id="readoutUnits"><button id="show-mph"class="selected">mi / h</button> <button id="show-kmh">km / h</button><br><button id="start">ðŸ”‘ Start</button></div><script>'use strict';var b=document.querySelector("body"),c=document.querySelector("#start"),e=document.querySelector("#readout"),f=document.querySelector("#show-mph"),g=document.querySelector("#show-kmh"),h=3.6,k=null,l=null;document.querySelector("#show-mph").addEventListener("click",()=>{h=2.23694;f.classList.contains("selected")||m()});document.querySelector("#show-kmh").addEventListener("click",()=>{h=3.6;g.classList.contains("selected")||m()});
document.querySelector("#start").addEventListener("click",()=>{k?(navigator.geolocation.clearWatch(k),l&&l.cancel(),k=null,c.textContent="\ud83d\udd11 Start"):(k=navigator.geolocation.watchPosition(n,null,{enableHighAccuracy:!0}),p(),c.textContent="\ud83d\uded1 Stop");c.classList.toggle("selected")});const m=()=>{g.classList.toggle("selected");f.classList.toggle("selected")},p=()=>{try{navigator.b("screen").then((a)=>{l=a.a()})}catch(a){}},n=(a)=>{e.textContent=Math.round(a.coords.speed*h)};
"AmbientLightSensor"in window&&navigator.permissions.query({name:"ambient-light-sensor"}).then((a)=>{if("denied"!==a.state){var d=new AmbientLightSensor({frequency:.25});d.addEventListener("reading",()=>{3>d.illuminance&&!b.classList.contains("dark")?b.classList.toggle("dark"):3<d.illuminance&&b.classList.contains("dark")&&b.classList.toggle("dark")});d.start()}});navigator.serviceWorker.register("service-worker.js",{scope:"./"});</script>